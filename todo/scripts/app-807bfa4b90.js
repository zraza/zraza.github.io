!function(t){"use strict";function e(e){r=e,u=t.DOM,d=u.element(".todo-add"),l=u.element(".todo-new"),c=u.element(".todo-list"),s=u.element(".todo-count"),a=".todo-delete"}function n(t){c.innerHTML=r.renderList(t),s.innerHTML=r.renderCounter(t.length)}function i(t){var e=u.parentElement(t,"li");return parseInt(e.dataset.id,10)}function o(t,e){"todoAdd"===t&&DOM.$on(d,"click",function(){e(l.value),l.value=""}),"todoDelete"===t&&DOM.$delegate(c,a,"click",function(){e(i(this))}),"todoNew"===t&&DOM.$on(l,"keypress",function(t){t.keyCode===f&&(e(this.value),this.value="")})}var r,u,d,l,c,s,a,f=13,p={init:e,bind:o,render:n};t.App=t.App||{},t.App.View=p}(window),function(t){"use strict";function e(t){r=t||[]}function n(t){t.id=r.length,r.push(t),o()}function i(t){r=r.filter(function(e){return e.id!==t}),o()}function o(){PubSub.publish("TodoListChanged",r)}var r=[],u={init:e,add:n,remove:i};t.TodoList=u}(window),function(t){"use strict";function e(t){for(var e="",n=0;n<t.length;n++){var o=i;o=o.replace("{{id}}",t[n].id),o=o.replace("{{title}}",t[n].title),e+=o}return e}function n(t){var e=t>1?"s":"";return"<strong>"+t+"</strong> item"+e+" in list"}var i='<li class="todo-list-item" data-id="{{id}}"><div class="view todo-list-item-detail"><label class="todo-list-item-label">{{title}}</label><button class="todo-list-item-delete todo-delete">Delete</button></div></li>',o={renderList:e,renderCounter:n};t.App=t.App||{},t.App.Template=o}(window),function(t){"use strict";function e(t,e){o[t]=o[t]||[],o[t].push(e)}function n(t,e){if(o[t])for(var n=0;n<o[t].length;n++)if(o[t][n]===e){o[t].splice(n,1);break}}function i(t,e){o[t]&&o[t].forEach(function(t){t(e)})}var o={},r={subscribe:e,unSubscribe:n,publish:i};t.PubSub=r}(window),function(t){"use strict";function e(t,e){return(e||document).querySelector(t)}function n(t,e){return(e||document).querySelectorAll(t)}function i(t,e){return t.parentNode?t.parentNode.tagName.toLowerCase()===e.toLowerCase()?t.parentNode:i(t.parentNode,e):void 0}function o(t,e,i,o){function u(i){var r=i.target,u=n(e,t),d=Array.prototype.indexOf.call(u,r)>=0;d&&o.call(r,i)}r(t,i,u,"blur"===i||"focus"===i)}function r(t,e,n,i){t.addEventListener(e,n,!!i)}var u={element:e,elementAll:n,parentElement:i,$on:r,$delegate:o};t.DOM=u}(window),function(t){"use strict";function e(t,e){r=t,u=e,u.bind("todoNew",n),u.bind("todoAdd",n),u.bind("todoDelete",i),PubSub.subscribe("TodoListChanged",o)}function n(t){""!==t.trim()&&r.add({title:t})}function i(t){r.remove(t)}function o(t){u.render(t)}var r,u,d={init:e};t.App=t.App||{},t.App.Controller=d}(window),function(t){"use strict";function e(){n.View.init(n.Template),TodoList.init(),n.Controller.init(TodoList,n.View)}var n=t.App||{};n.init=e,t.App=n}(window);
//# sourceMappingURL=../maps/scripts/app-807bfa4b90.js.map
