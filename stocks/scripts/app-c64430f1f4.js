!function(){"use strict";angular.module("directives",["services"])}(),function(){"use strict";function t(){function t(t){i++,t.vm.total=i}var i=0,o={bindToController:!0,replace:!0,controller:e,templateUrl:"app/directives/time-selector/time-selector-widget.html",controllerAs:"vm",link:t,restrict:"E",scope:{selected:"="}};return o}function e(t){function e(){i()}function i(){o.options=t.getAll()}var o=this;e()}e.$inject=["PeriodOptionsService"],angular.module("directives").directive("timeSelectorWidget",t)}(),function(){"use strict";function t(){var t={bindToController:!0,replace:!0,controller:e,templateUrl:"app/directives/stock-widget-holder/stock-widget-holder.html",controllerAs:"vm",restrict:"E",scope:{}};return t}function e(){function t(){e()}function e(){i.stockSymbols=["LSE:IBST","@GB:ASX","LSE:RTN","LSE:PLP","LSE:PAGE","LSE:FORT","LSE:ENQ","LSE:GMS","LSE:OXB"]}var i=this;t()}angular.module("directives").directive("stockWidgetHolder",t)}(),function(){"use strict";function t(t){function e(t){return i[t]?i[t]:"Unknown"}var i=t.getAll();return e}t.$inject=["PeriodOptionsService"],angular.module("directives").filter("stockPeriod",t)}(),function(){"use strict";function t(){var t={bindToController:!0,replace:!0,controller:e,templateUrl:"app/directives/stock-high-low/stock-high-and-low-widget.html",controllerAs:"vm",restrict:"E",scope:{marketCode:"=",timeCode:"=?"}};return t}function e(t,e,i){function o(){n(),r(),c()}function n(){l.loading=!1,l.timeCode||(l.timeCode="D")}function r(){l.loading=!0,e.getData(l.marketCode,l.timeCode).then(function(t){t.data&&t.data.history&&t.data.history.length>0?l.StockRange={min:i.minBy(t.data.history,"low").low,max:i.maxBy(t.data.history,"high").high}:l.error="no data available, incomplete data"})["catch"](function(){l.error="error, loading data"})["finally"](function(){l.loading=!1})}function c(){t.$watch("vm.timeCode",function(t){t&&r()})}var l=this;o()}e.$inject=["$scope","StockService","_"],angular.module("directives").directive("stockHighAndLowWidget",t)}(),function(){"use strict";angular.module("services",[])}(),function(){"use strict";function t(t,e){function i(i,o){return t.get(e.API_BASE+i+"/"+o)}this.getData=i}t.$inject=["$http","GLOBALS"],angular.module("services").service("StockService",t)}(),function(){"use strict";function t(){function t(){return{D:"Day","1M":"Month","1Y":"Year"}}this.getAll=t}angular.module("services").service("PeriodOptionsService",t)}(),function(){"use strict";angular.module("interactive",["restangular","ui.router","directives"])}(),function(){"use strict";function t(){}angular.module("interactive").controller("MainController",t)}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("interactive").run(t)}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}),e.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("interactive").config(t)}(),function(){"use strict";angular.module("interactive").constant("moment",moment).constant("_",_).constant("GLOBALS",{API_BASE:"http://interactiveinvestor.netne.net/"})}(),function(){"use strict";function t(t){t.debugEnabled(!0)}t.$inject=["$logProvider"],angular.module("interactive").config(t)}(),angular.module("interactive").run(["$templateCache",function(t){t.put("app/main/main.html","<stock-widget-holder></stock-widget-holder>"),t.put("app/directives/stock-high-low/stock-high-and-low-widget.html",'<section class=stock-high-and-low-widget><h1>Restaurant Group (The) Share Price - {{vm.marketCode}}</h1><p ng-if=vm.error class=error>{{vm.error}}</p><p ng-if=!vm.error>{{vm.timeCode|stockPeriod}} High {{vm.StockRange.max | currency:"£":2}}</p><p ng-if=!vm.error>{{vm.timeCode|stockPeriod}} Low {{vm.StockRange.min | currency:"£":2}}</p><time-selector-widget ng-if=!vm.loading selected></time-selector-widget><p ng-if=vm.loading>loading...</p></section>'),t.put("app/directives/stock-widget-holder/stock-widget-holder.html",'<section class=stock-widget-holder><h3>widget name</h3><div class=stock-high-and-low-widget-header><h1>share price</h1><p>hight</p><p>low</p><p>time period</p></div><stock-high-and-low-widget ng-repeat="stockSymbol in vm.stockSymbols" market-code=stockSymbol></stock-high-and-low-widget></section>'),t.put("app/directives/time-selector/time-selector-widget.html",'<div><label for=stock-widget-{{vm.total}}>Period:</label><select ng-model=vm.selected ng-options="key as value for (key , value) in vm.options"></select></div>')}]);
//# sourceMappingURL=../maps/scripts/app-c64430f1f4.js.map
